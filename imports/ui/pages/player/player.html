<template name="player">
  <div id="player-container">
    {{#with video}}
    <video id="video-player">
      <source src="{{ src }}" type="video/webm" />
    </video>
    {{/with}}
    <div class="player-controls {{playPause}} {{hideControls}}">
      <div id="video-progress">
        <div id="loaded-bar" style="width: {{loadedProgress}}px"></div>
        <div id="played-bar" style="width: {{playedProgress}}px"></div>
        <div id="scrubber" style="left: {{scrubberTranslate}}px"></div>
      </div>
      <br />
      <button id="play-pause-button" title="{{playPause}}">
        <img src= "{{playPauseIcon}}">
      </button>
      <button id="volume-button" title="volume">
        <img src="/img/volume-icon.svg" />
      </button>
      <input id="vol-control" class="{{ volumeClass }}" value=100 type="range" min="0" max="100" step="1"/>
      <span id="current-time">{{formatTime currentTime}}</span>
      <span class="slash">/</span>
      <span id="total-time">{{formatTime totalTime}}</span>
      <button id="fullscreen-button" title="{{fullscreen}}">
        <img src= "/img/fullscreen-icon.svg">
      </button>

    </div>
    {{#with video}}
    <div class="player-overlay {{playPause}}">
      {{#each tag in tags }}
        <div class="primary-tag">{{ tag }}</div>
      {{/each}}
      <div class="player-uploader">{{ uploader }}</div>
      <div class="player-info">
        <div class="player-title">{{ title }}</div>
        <div class="player-description">{{ description }}</div>
        <div class="player-statistics">
          <span class="statistic-text"><img src= "/img/view-icon.svg">{{formatNumber stats.views}}</span>
          <span class="statistic-text" id="button-like"><img src= "/img/like-icon.svg"/>{{formatNumber stats.likes}}</span>
          <span class="statistic-text" id="button-dislike"><img src= "/img/deslike-icon.svg"/>{{formatNumber stats.dislikes}}</span>
        </div>
        {{#if hasPrice}}
          <button class="player-price">UNLOCK THIS VIDEO WITH {{formatNumber price}} PTI</button>
        {{/if}}
      </div>
    </div>
    {{/with}}
  </div>
</template>
